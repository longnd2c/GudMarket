<th:block th:include="/common/top"></th:block>  
<th:block th:include="/common/navbar"></th:block> 
<th:block th:include="/common/sidebar"></th:block> 


<div class="app-main__outer">
  <div class="app-main__inner">
      <div class="app-page-title">
          <div class="page-title-wrapper">
            <div class="page-title-heading">
                <div class="page-title-icon">
                    <i class="pe-7s-drawer icon-gradient bg-happy-itmeo">
                    </i>
                </div>
                <div>Post
                    <div class="page-title-subheading">All Posts
                    </div>
                </div>
            </div>
            
            </div>
          </div>
      
<div class="row">
        <div class="col-lg-12">
            <div class="main-card mb-3 card">
                <div class="card-body">
                <div class="row">
                    <div class="col-7">
                        <h3>Post</h3>
                    </div>
                    
                    <div class="col-3">
                    	<div class="search-wrapper">
		                    <div class="input-holder">
		                    
							    <form th:action="@{/searchPost}">
							      <input th:value="${searchKey}" type="text" class="search-input" placeholder="Type to search" name="searchKey">
							    </form>
							    <button class="search-icon"><span></span></button>
							  
        
		                    </div>
		                    <button class="close"></button>
		                </div>
                    </div>
                    
                </div>
                
                    <table class="mb-0 table table-striped">
                        <thead>
                        <tr>
                            <th>ID Post</th>
                            <th>Title</th>
                            <th>Username</th>
                            <th>ID Type</th>
                            <th>Description</th>
                            <th>Image</th>
                            <th>Price</th>
                            <th>Contact</th>
                            <th>Date</th>
                            <th>Status</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="p : ${listPost}">
                            <td th:text="${p.id_post}"></td>
                            <td th:text="${p.title}"></td>
                            <td th:text="${p.acc.username}"></td>
                            <td th:text="${p.id_type}"></td>
                            <td th:text="${p.description}"></td>
                            <td th:text="${p.img}"></td>
                            <td th:text="${p.price}"></td>
                            <td th:text="${p.contact}"></td>
                            <td th:text="${p.date}"></td>
                            <td th:text="${p.status}"></td>
                            <td>
                            	<!-- Update button -->
                            	<a th:href="@{/post-update/} + ${p.id_post}" class="btn btn-sm btn-info edit-product" style="color:#fff;"><span style="display:none;"></span><i class="fas fa-pencil-alt"></i></a>
                            	
                            	<!-- Delete button -->
                            	<button type ="button" class="btn btn-sm btn-danger delete-product" style="color:#fff;" data-toggle="modal"
                    				th:attr="data-target='#delModal'+ ${p.id_post}"><i class="fas fa-trash-alt"></i>
                            	</button>
                            	
                            	<!-- Yes/No confirm -->
                            	<div class="modal fade" th:id="'delModal' + ${p.id_post}">
				                    <div class="modal-dialog">
				                        <div class="modal-content">
				
				                            <!-- Modal Header -->
				                            <div class="modal-header">
				                                <h4 class="modal-title">Are you sure?</h4>
				                                <button type="button" class="close" data-dismiss="modal">&times;</button>
				                            </div>
				
				                            <!-- Modal footer -->
				                            <div class="modal-footer">
				                            	<a th:href="@{/postDelete/} + ${p.id_post}"><button
				                                        type="button" class="btn btn-info">Yes</button></a>
				                                <button type="button" class="btn btn-danger"
				                                    data-dismiss="modal">Close</button>
				                                
				                            </div>
				                        </div>
				                    </div>
				                </div>
				                
				                
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</div>


  <th:block th:include="/common/footer"></th:block>  